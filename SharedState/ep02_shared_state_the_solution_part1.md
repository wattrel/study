# Shared State: The Solution, Part 1
일시: 1월 16일 오후 10시

@김성현

공유 상태를 참조타입으로 바꿀 경우?
참조 타입은 SwiftUI가 뷰를 무효화하고 다시 렌더링하기 위해 모델 속성 변경을 관찰해야 하는 것과 어울리지 않음.
ObservableObject + @Published에 참조 타입을 넣어 사용할 경우 참조 타입 내 프로퍼티 변화는 willSet, didSet으로 관찰할 수 없음.
다만 Observable 매크로가 출시된 이후엔 이 문제가 완전히 해결됨.

그렇다고 해서 TCA에서 이렇게 참조타입을 사용할 경우, 액션 없이 아무곳에서나 뮤테이션을 할 수 있어 예상하기 어려운 코드를 작성할 위험이 생김.

Source of truth는 사실 두가지 공급원이 있음:
- 앱의 현재 상태
- 외부에 존재하는 상태 (데이터베이스, 파일 등)

상태가 외부에도 존재하며 단일 상태로 모델링할 수 없는 부분이 있다는 것을 인지하고 참조 타입의 도움을 받는 것이 적절함.

Shared 타입:
- 참조 타입처럼 작동하지만 값 타입의 장점을 유지하는 타입.
- 프로퍼티 래퍼, 다이나믹 멤버 룩업을 사용해 인체공학 개선.

@홍승현

@윤용운
